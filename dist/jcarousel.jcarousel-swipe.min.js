!function(t){"use strict";t.jCarousel.plugin("jcarouselSwipe",{_init:function(){},_create:function(){this._instance=this.carousel().data("jcarousel"),this._instance._element.css("touch-action","pan-y"),this.carousel().find("img").attr("draggable",!1),this._initGestures()},_initGestures:function(){function e(e){e=e.originalEvent||e||window.event,r=s(e),t(document).on("touchmove.jcarouselSwipe mousemove.jcarouselSwipe",n),t(document).on("touchend.jcarouselSwipe touchcancel.jcarouselSwipe mouseup.jcarouselSwipe",i)}function n(e){var n,i;return e=e.originalEvent||e||window.event,u=s(e),l&&e.preventDefault(),Math.abs(r.y-u.y)>10&&!l?void t(document).off("touchmove.jcarouselSwipe mousemove.jcarouselSwipe"):void(!_&&Math.abs(r.x-u.x)>10&&(n=r.x-u.x,l||(l=!0,c._addClones(),c._currentLeft=c._getListPosition(),a=c._instance.items().last(),o=-1*(a.position().left+a.outerWidth()-c._instance.carousel().outerWidth())),i="circular"===c._instance._options.wrap?c._currentLeft-n:Math.min(0,Math.max(c._currentLeft-n,o)),c._setListPosition({left:i+"px"})))}function i(){if(l){var e=c._getNewTarget(r.x-u.x>0);e="circular"===c._instance._options.wrap?e.relative:e["static"],c._removeClones(),c._instance._items=null,_=!0,c._instance.scroll(e,function(){l=!1,_=!1})}t(document).off("touchmove.jcarouselSwipe mousemove.jcarouselSwipe"),t(document).off("touchend.jcarouselSwipe touchcancel.jcarouselSwipe mouseup.jcarouselSwipe")}function s(t){return void 0!==t.touches?{x:t.touches[0].pageX,y:t.touches[0].pageY}:void 0!==t.pageX?{x:t.pageX,y:t.pageY}:{x:t.clientX,y:t.clientY}}var o,a,c=this,r={},u={},l=!1,_=!1;this._element.on("touchstart.jcarouselSwipe mousedown.jcarouselSwipe",e)},_getNewTarget:function(t){for(var e=this._instance.target(),n=this._instance.index(e),i=0,s=this._instance.carousel().offset().left,o=this._instance.items().length;;){if(t&&e.offset().left-s>=0||!t&&e.offset().left-s<=0)break;t?(e=e.next(),n=n+1>=o?0:n+1):(e=e.prev(),n=0>n-1?o-1:n-1),i++}return{"static":n,relative:(t?"+":"-")+"="+i}},_getListPosition:function(){return this._instance.list().position()[this._instance.lt]},_setListPosition:function(t){var e=this._instance.options("transitions"),n=!!e.transforms,i=!!e.transforms3d,s={};i?s.transform="translate3d("+(t.left||0)+","+(t.top||0)+",0)":n?s.transform="translate("+(t.left||0)+","+(t.top||0)+")":s=t,this._instance.list().css(s)},_addClones:function(){var e,n,i,s=this,o=s._instance.items(),a=s._instance.first(),c=s._instance.last(),r=t(window).width(),u=[],l=[],_=s._getListPosition();if("circular"!==this._instance._options.wrap)return!1;for(n=0,i=0,e=a;r>n;)e=e.prev(),0===e.length?(i=--i<-o.length?-1:i,n+=s._instance.dimension(o.eq(i)),u.push(o.eq(i).clone().attr("data-jcarousel-clone",!0))):n+=s._instance.dimension(e);for(_=Math.min(_,-n)+"px",n=0,i=-1,e=c;r>n;)e=e.next(),0===e.length?(i=++i>o.length-1?0:i,n+=s._instance.dimension(o.eq(i)),l.push(o.eq(i).clone().attr("data-jcarousel-clone",!0))):n+=s._instance.dimension(e);s._instance._items.first().before(u.reverse()),s._instance._items.last().after(l),s._instance.move({left:_})},_removeClones:function(){var t,e=this._instance.first().position()[this._instance.lt];this._instance.list().find("[data-jcarousel-clone]").remove(),t=Math.abs(this._instance.first().position()[this._instance.lt]-e),t&&this._instance.move({left:this._getListPosition()+t+"px"})},_destroy:function(){},_reload:function(){}})}(jQuery);